<!-- <!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard - Saúde do Servidor</title>

  <link rel="stylesheet" href="../../css/dash/saude_servidor_manu.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body>

<div class="container-all">


  <div class="nav-lateral">
    <div class="logo-dbg">
      <img src="../../assets/imgs/DBG.-logo2png.png">
    </div>

    <div class="options-nav">
      <div class="principal-options">
        <div class="circle-option">
          <i onclick="window.location.href='dashboard_sre.html'" class="fa-solid fa-house"></i>
        </div>

        <div class="circle-option">
          <i onclick="window.location.href='dashHistoricoAlertaSRE.html'" class="fa-solid fa-bug"></i>
        </div>

        <div class="circle-option">
          <i onclick="window.location.href='#'" class="fa-solid fa-notes-medical"></i>
        </div>
      </div>

      <div class="area-logoff">
        <div class="circle-option logoff" onclick="limparSessao()">
          <i class="fa-solid fa-right-from-bracket"></i>
        </div>
      </div>
    </div>
  </div>


  <main class="content">

    <header class="header">
      <h1>Saúde do Servidor - Visão Geral</h1>
    </header>

    <section class="grid-dashboard">


      <div class="card card-mainchart">
        <div class="legend">
          <span class="leg-dot blue"></span> Desempenho
          <span class="leg-dot purple"></span> Tempo de Espera
        </div>
        <canvas id="mainChart"></canvas>
      </div>
<div class="card card-memoria">
    <div class="memoria-section-header">
        <h2>Taxa de Swap</h2>
    </div>
    <div class="memoria-chart-container">
        <canvas id="swapChart"></canvas>
    </div>

    <hr class="memoria-divider">

    <div class="memoria-section-header">
        <h2>Utilização RAM</h2>
    </div>
    <div class="memoria-ram-content">
        <canvas id="ramChart"></canvas>
        <div class="ram-legend">
            <div class="leg-item">
                <span class="leg-dot small blue"></span> Disponível
                <span class="ram-percent">12.5%</span>
            </div>
            <div class="leg-item">
                <span class="leg-dot small purple"></span> Utilizada
                <span class="ram-percent">87.5%</span>
            </div>
        </div>
    </div>
</div>

<div class="card card-cpu">
    </div>

<div class="card card-processes">
    </div>

<div class="card card-threads">
    </div>

<div class="card card-cpu">
    </div>

<div class="card card-processes">
    </div>

<div class="card card-threads">
    </div>

      
      <div class="card card-cpu">
        <h2>Tempo de CPU</h2>
        <p class="sub">Usuário VS Sistema</p>

        <div class="cpu-bars">
          <div class="cpu-row"><div class="cpu-fill cpu-user" style="width:60%"></div></div>
          <div class="cpu-row"><div class="cpu-fill cpu-user2" style="width:45%"></div></div>

          <div class="cpu-scale">
            <span>0%</span><span>50%</span><span>100%</span>
          </div>
        </div>
      </div>

      <div class="card card-processes">
        <h2>Total de Processos em Execução</h2>

        <div class="proc-top">
          <div class="green-dot"></div>
          <div class="proc-number">345</div>
          <div class="proc-change">+ 2%</div>
        </div>

        <hr class="proc-sep">

        <p class="proc-sub">Processo que mais consome CPU</p>
        <p class="proc-name"><strong>minecraft-inicializator-server</strong> (70%)</p>
      </div>

     

      <div class="card card-threads">

        <div class="threads-header">
     <h3>Contagem de Threads</h3>
          <div id="threadsLegend" class="chart-legend"></div> 
    </div>

        <div class="threads-content-area">
     <div class="threads-left">
      <canvas id="threadsChart"></canvas>
     </div>

     <div class="threads-right">
      <div class="warning-icon">!</div>
      <p>O aumento significa um vazamento de recursos na aplicação, esgotando o kernel e gerando instabilidade.</p>
     </div>
    </div>

   </div>

    </section>

  </main>
</div>

<script>
function limparSessao() { console.log("Sessão encerrada."); }

const labels = ["Item 1","Item 2","Item 3","Item 4","Item 5"];


new Chart(document.getElementById("mainChart"), {
  type: "line",
  data: {
    labels,
    datasets: [
      { label: "Desempenho", data: [12,15,38,30,50], borderColor: "#55c0ff", pointBackgroundColor:"#55c0ff", tension:0.3, borderWidth:3, fill:false },
      { label: "Tempo de Espera", data: [6,9,16,12,33], borderColor: "#9a7bff", pointBackgroundColor:"#9a7bff", tension:0.3, borderWidth:3, fill:false }
    ]
  },
  options: {
    responsive:true,
    maintainAspectRatio:false,
    plugins:{ legend:{ display:false } },
    scales:{
      x:{ ticks:{ color:"#bfbfbf" }, grid:{ color:"rgba(255,255,255,0.08)" } },
      y:{ ticks:{ color:"#bfbfbf" }, grid:{ color:"rgba(255,255,255,0.08)" } }
    }
  }
});



new Chart(document.getElementById("swapChart"), {
    type:"line",
    data:{
        labels,
        datasets:[{
            label:"Swap",
            data:[18,26,22,35,37],
            borderColor:"#55c0ff",
            pointBackgroundColor:"#55c0ff",
            borderWidth:3,
            tension:0.3,
            fill:false
        }]
    },
    options:{
        responsive:true,
        maintainAspectRatio:false, 
        plugins:{ legend:{ display:false } },
        layout: {
            padding: {
                left: 10,
                right: 10,
                top: 10,
                bottom: 10
            }
        },
        scales:{
            x:{
                ticks:{
                    color:"#bfbfbf",
                    autoSkip: false,
                    maxRotation: 0,
                    minRotation: 0
                },
                grid:{
                    color:"rgba(255,255,255,0.08)"
                },
                beginAtZero: false
            },
            y:{
                ticks:{
                    color:"#bfbfbf",
                    mirror: false,
                    padding: 5
                },
                grid:{
                    color:"rgba(255,255,255,0.08)"
                },
                beginAtZero: false,
                min: 15,
                max: 40
            }
        }
    }
});


new Chart(document.getElementById("ramChart"), {
 type:"doughnut",
 data:{
  labels:["Disponível","Utilizada"],
  datasets:[
   {
    data:[12.5,87.5],
    backgroundColor:["#55c0ff","#9a7bff"],
    borderWidth:6,
    borderColor:"#151025",
    hoverOffset: 4 
   }
  ]
 },
 options:{
  responsive:true,
  maintainAspectRatio:true,
  plugins:{ 
   legend:{ display:false } 
  },
  
  cutout: '70%', 
  layout: {
   padding: 5
  }

 }
});


new Chart(document.getElementById("threadsChart"), {
    type:"bar",
    data:{
    labels:["Item 1","Item 2","Item 3","Item 4"],
    datasets:[
    {
    label:"Item", 
    data:[8,14,19,22],
    
    backgroundColor:[
            '#61D8DE', 
            '#4A90E2',
            '#3A7BDA', 
            '#2C5D9F'  
    ],
    borderWidth: 1,
    borderColor: '#0a061b' 
    }
    ]
    },
    options:{
    responsive:true,
    maintainAspectRatio:false,
    plugins:{ 
    legend:{ 
    display: true, 
    position: 'top', 
        labels: {
            boxWidth: 15, 
            padding: 20, 
            color: '#bfbfbf'
        }
    } 
    },
    animation:false, 
    scales: {
    x: {
    ticks: { color: "#bfbfbf" },
    grid: { display: false }
    },
    y: {
    ticks: { color: "#bfbfbf" },
    grid: { color: "rgba(255,255,255,0.08)" } 
    }
    }
    }
});
</script>

</body>
</html> -->



<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard - Saúde do Servidor</title>

  <link rel="stylesheet" href="../../css/dash/saude_servidor_manu.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body>

<div class="container-all">

  <div class="nav-lateral">
    <div class="logo-dbg">
      <img src="../../assets/imgs/DBG.-logo2png.png">
    </div>

    <div class="options-nav">
      <div class="principal-options">
        <div class="circle-option">
          <i onclick="window.location.href='dashboard_sre.html'" class="fa-solid fa-house"></i>
        </div>

        <div class="circle-option">
          <i onclick="window.location.href='dashHistoricoAlertaSRE.html'" class="fa-solid fa-bug"></i>
        </div>

        <div class="circle-option">
          <i onclick="window.location.href='#'" class="fa-solid fa-notes-medical"></i>
        </div>
      </div>

      <div class="area-logoff">
        <div class="circle-option logoff" onclick="limparSessao()">
          <i class="fa-solid fa-right-from-bracket"></i>
        </div>
      </div>
    </div>
  </div>

  <!-- CONTEÚDO PRINCIPAL -->
  <div class="container">

    <div class="bloco-esquerda">

      <!-- KPIs -->
      <div class="kpis">
        <div class="card kpi-processos">
          <h5>Total de Processos em Execução</h5>
          <h3>345</h3>
        </div>

        <div class="card kpi-cpu">
          <h4>Tempo de CPU</h4>
          <p>Usuário VS Sistema</p>
          <canvas id="cpuChart"></canvas>
        </div>
      </div>

      <!-- Desempenho / Tempo de Espera -->
      <div class="card-grafico">
        <h3 class="titulo">Desempenho x Tempo de Espera</h3>
        <canvas id="desempenhoChart"></canvas>
      </div>

      <!-- Taxa de Swap + Utilização RAM -->
      <div class="blocos-mistos">

        <div class="graficoSwap bloco-meio">
          <h3 class="titulo">Taxa de Swap</h3>
          <canvas id="swapChart"></canvas>
        </div>

        <div class="graficoRam bloco-meio">
          <h3 class="titulo">Utilização RAM</h3>

          <div class="pie-area">
            <canvas id="ramChart" width="200"></canvas>
          </div>

          <div class="legenda-pie">
            <div class="disp">Disponível</div>
            <div class="util">Utilizada</div>
          </div>
        </div>

      </div>

    </div>

    <!-- Bloco direita -->
    <div class="bloco-direita">

      <div class="cima">
          <div class="card-kpi-alertas">
          <h3 class="titulo">Qtd. alertas no último mês</h3>
          <h1 style="font-size:40px;">14</h1>
        </div>

        <div class="uiverse">
    <span class="tooltip"><img src="../../assets/imgs/jira_icon.png" alt="Alert Icon" width="15px"></span>
    <span onclick="window.location.href='https://gamecore.atlassian.net/jira/software/projects/KAN/list?jql=project%20%3D%20%22KAN%22%20ORDER%20BY%20created%20DESC'">
        Ver Alertas
    </span>
</div>
      </div>
      
      <div class="baixo">
      <div class="card-correlacao">
        <h3 class="titulo">Tendência e Correlação de Alertas</h3>
        <canvas id="alertasChart"></canvas>
      </div>
      </div>


    </div>

  </div>
</div>


 <script>

// function criarGraficoSeguro(ctx, config) {
//   if (ctx._chartInstance) {
//     ctx._chartInstance.destroy();
//   }
//   ctx._chartInstance = new Chart(ctx, config);
// }


// criarGraficoSeguro(document.getElementById("cpuChart"), {
//   type: "line",
//   data: {
//     labels: ["Item 1","Item 2","Item 3","Item 4","Item 5"],
//     datasets: [
//       { label: "Usuário", data: [12, 19, 3, 5, 22], borderWidth: 2 },
//       { label: "Sistema", data: [8, 11, 15, 9, 18], borderWidth: 2 }
//     ]
//   },
//   options: { responsive: true, maintainAspectRatio: false }
// });


// criarGraficoSeguro(document.getElementById("desempenhoChart"), {
//   type: "line",
//   data: {
//     labels: ["Item 1","Item 2","Item 3","Item 4","Item 5"],
//     datasets: [
//       { label: "Desempenho", data: [15, 10, 35, 28, 50], borderWidth: 2 },
//       { label: "Tempo de Espera", data: [8, 14, 20, 18, 32], borderWidth: 2 }
//     ]
//   },
//   options: { responsive: true, maintainAspectRatio: false }
// });


// criarGraficoSeguro(document.getElementById("swapChart"), {
//   type: "line",
//   data: {
//     labels: ["Item1","Item2","Item3","Item4","Item5"],
//     datasets: [
//       { label: "Swap (%)", data: [20,28,25,35,37], borderWidth: 2 }
//     ]
//   },
//   options: { responsive: true, maintainAspectRatio: false }
// });

// criarGraficoSeguro(document.getElementById("ramChart"), {
//   type: "doughnut",
//   data: {
//     labels: ["Disponível","Utilizada"],
//     datasets: [
//       { data: [60,40], backgroundColor: ["#56d4ff","#1bb6c7"] }
//     ]
//   },
//   options: { responsive: true, maintainAspectRatio: false}
// });


// criarGraficoSeguro(document.getElementById("alertasChart"), {
//   type: "bar",
//   data: {
//     labels: ["0","2","4","6","8","10","12","14"],
//     datasets: [
//       { label: "Alertas", data: [2,3,4,5,6,4,3,2], borderWidth: 2 }
//     ]
//   },
//   options: { responsive: true, maintainAspectRatio: false }
// });


const graficoBarraLinha = new Chart(ctx, {
    data: {
        datasets: [{
            type: 'bar',
            label: 'Alertas',
            data: [0, 2, 4, 6, 8, 10, 12, 14],
        }, {
            type: 'line',
            label: 'CPU',
            data: [0, 1, 2, 3, 4, 5, 6, 7],
        }, {
            type: 'line',
            label: 'RAM',
            data: [0,2, 5, 4, 7, 3, 2, 4],
        },{
            type: 'line',
            label: 'Processos',
            data: [0, 1, 2, 1, 3, 4, 1, 2],
        }
      
      ],
        labels: ['0', '2', '4', '6', '8', '10', '12', '14']
    },
    options: options
});
 


</script>

</body>
</html>
