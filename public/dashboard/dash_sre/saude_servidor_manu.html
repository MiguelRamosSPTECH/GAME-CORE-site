<!-- <!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard - Saúde do Servidor</title>

  <link rel="stylesheet" href="../../css/dash/saude_servidor_manu.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body>

<div class="container-all">


  <div class="nav-lateral">
    <div class="logo-dbg">
      <img src="../../assets/imgs/DBG.-logo2png.png">
    </div>

    <div class="options-nav">
      <div class="principal-options">
        <div class="circle-option">
          <i onclick="window.location.href='dashboard_sre.html'" class="fa-solid fa-house"></i>
        </div>

        <div class="circle-option">
          <i onclick="window.location.href='dashHistoricoAlertaSRE.html'" class="fa-solid fa-bug"></i>
        </div>

        <div class="circle-option">
          <i onclick="window.location.href='#'" class="fa-solid fa-notes-medical"></i>
        </div>
      </div>

      <div class="area-logoff">
        <div class="circle-option logoff" onclick="limparSessao()">
          <i class="fa-solid fa-right-from-bracket"></i>
        </div>
      </div>
    </div>
  </div>


  <main class="content">

    <header class="header">
      <h1>Saúde do Servidor - Visão Geral</h1>
    </header>

    <section class="grid-dashboard">


      <div class="card card-mainchart">
        <div class="legend">
          <span class="leg-dot blue"></span> Desempenho
          <span class="leg-dot purple"></span> Tempo de Espera
        </div>
        <canvas id="mainChart"></canvas>
      </div>
<div class="card card-memoria">
    <div class="memoria-section-header">
        <h2>Taxa de Swap</h2>
    </div>
    <div class="memoria-chart-container">
        <canvas id="swapChart"></canvas>
    </div>

    <hr class="memoria-divider">

    <div class="memoria-section-header">
        <h2>Utilização RAM</h2>
    </div>
    <div class="memoria-ram-content">
        <canvas id="ramChart"></canvas>
        <div class="ram-legend">
            <div class="leg-item">
                <span class="leg-dot small blue"></span> Disponível
                <span class="ram-percent">12.5%</span>
            </div>
            <div class="leg-item">
                <span class="leg-dot small purple"></span> Utilizada
                <span class="ram-percent">87.5%</span>
            </div>
        </div>
    </div>
</div>

<div class="card card-cpu">
    </div>

<div class="card card-processes">
    </div>

<div class="card card-threads">
    </div>

<div class="card card-cpu">
    </div>

<div class="card card-processes">
    </div>

<div class="card card-threads">
    </div>

      
      <div class="card card-cpu">
        <h2>Tempo de CPU</h2>
        <p class="sub">Usuário VS Sistema</p>

        <div class="cpu-bars">
          <div class="cpu-row"><div class="cpu-fill cpu-user" style="width:60%"></div></div>
          <div class="cpu-row"><div class="cpu-fill cpu-user2" style="width:45%"></div></div>

          <div class="cpu-scale">
            <span>0%</span><span>50%</span><span>100%</span>
          </div>
        </div>
      </div>

      <div class="card card-processes">
        <h2>Total de Processos em Execução</h2>

        <div class="proc-top">
          <div class="green-dot"></div>
          <div class="proc-number">345</div>
          <div class="proc-change">+ 2%</div>
        </div>

        <hr class="proc-sep">

        <p class="proc-sub">Processo que mais consome CPU</p>
        <p class="proc-name"><strong>minecraft-inicializator-server</strong> (70%)</p>
      </div>

     

      <div class="card card-threads">

        <div class="threads-header">
     <h3>Contagem de Threads</h3>
          <div id="threadsLegend" class="chart-legend"></div> 
    </div>

        <div class="threads-content-area">
     <div class="threads-left">
      <canvas id="threadsChart"></canvas>
     </div>

     <div class="threads-right">
      <div class="warning-icon">!</div>
      <p>O aumento significa um vazamento de recursos na aplicação, esgotando o kernel e gerando instabilidade.</p>
     </div>
    </div>

   </div>

    </section>

  </main>
</div>

<script>
function limparSessao() { console.log("Sessão encerrada."); }

const labels = ["Item 1","Item 2","Item 3","Item 4","Item 5"];


new Chart(document.getElementById("mainChart"), {
  type: "line",
  data: {
    labels,
    datasets: [
      { label: "Desempenho", data: [12,15,38,30,50], borderColor: "#55c0ff", pointBackgroundColor:"#55c0ff", tension:0.3, borderWidth:3, fill:false },
      { label: "Tempo de Espera", data: [6,9,16,12,33], borderColor: "#9a7bff", pointBackgroundColor:"#9a7bff", tension:0.3, borderWidth:3, fill:false }
    ]
  },
  options: {
    responsive:true,
    maintainAspectRatio:false,
    plugins:{ legend:{ display:false } },
    scales:{
      x:{ ticks:{ color:"#bfbfbf" }, grid:{ color:"rgba(255,255,255,0.08)" } },
      y:{ ticks:{ color:"#bfbfbf" }, grid:{ color:"rgba(255,255,255,0.08)" } }
    }
  }
});



new Chart(document.getElementById("swapChart"), {
    type:"line",
    data:{
        labels,
        datasets:[{
            label:"Swap",
            data:[18,26,22,35,37],
            borderColor:"#55c0ff",
            pointBackgroundColor:"#55c0ff",
            borderWidth:3,
            tension:0.3,
            fill:false
        }]
    },
    options:{
        responsive:true,
        maintainAspectRatio:false, 
        plugins:{ legend:{ display:false } },
        layout: {
            padding: {
                left: 10,
                right: 10,
                top: 10,
                bottom: 10
            }
        },
        scales:{
            x:{
                ticks:{
                    color:"#bfbfbf",
                    autoSkip: false,
                    maxRotation: 0,
                    minRotation: 0
                },
                grid:{
                    color:"rgba(255,255,255,0.08)"
                },
                beginAtZero: false
            },
            y:{
                ticks:{
                    color:"#bfbfbf",
                    mirror: false,
                    padding: 5
                },
                grid:{
                    color:"rgba(255,255,255,0.08)"
                },
                beginAtZero: false,
                min: 15,
                max: 40
            }
        }
    }
});


new Chart(document.getElementById("ramChart"), {
 type:"doughnut",
 data:{
  labels:["Disponível","Utilizada"],
  datasets:[
   {
    data:[12.5,87.5],
    backgroundColor:["#55c0ff","#9a7bff"],
    borderWidth:6,
    borderColor:"#151025",
    hoverOffset: 4 
   }
  ]
 },
 options:{
  responsive:true,
  maintainAspectRatio:true,
  plugins:{ 
   legend:{ display:false } 
  },
  
  cutout: '70%', 
  layout: {
   padding: 5
  }

 }
});


new Chart(document.getElementById("threadsChart"), {
    type:"bar",
    data:{
    labels:["Item 1","Item 2","Item 3","Item 4"],
    datasets:[
    {
    label:"Item", 
    data:[8,14,19,22],
    
    backgroundColor:[
            '#61D8DE', 
            '#4A90E2',
            '#3A7BDA', 
            '#2C5D9F'  
    ],
    borderWidth: 1,
    borderColor: '#0a061b' 
    }
    ]
    },
    options:{
    responsive:true,
    maintainAspectRatio:false,
    plugins:{ 
    legend:{ 
    display: true, 
    position: 'top', 
        labels: {
            boxWidth: 15, 
            padding: 20, 
            color: '#bfbfbf'
        }
    } 
    },
    animation:false, 
    scales: {
    x: {
    ticks: { color: "#bfbfbf" },
    grid: { display: false }
    },
    y: {
    ticks: { color: "#bfbfbf" },
    grid: { color: "rgba(255,255,255,0.08)" } 
    }
    }
    }
});
</script>

</body>
</html> -->



<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard - Saúde do Servidor</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="../../js/process/dash-saude-servidor.js"></script>

  <link rel="stylesheet" href="../../css/dash/saude_servidor_manu.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body>

<div class="container-all">

  <div class="nav-lateral">
    <div class="logo-dbg">
      <img src="../../assets/imgs/DBG.-logo2png.png">
    </div>

    <div class="options-nav">
      <div class="principal-options">
        <div class="circle-option">
          <i onclick="window.location.href='dashboard_sre.html'" class="fa-solid fa-house"></i>
        </div>

        <div class="circle-option">
          <i onclick="window.location.href='dashHistoricoAlertaSRE.html'" class="fa-solid fa-bug"></i>
        </div>

        <div class="circle-option">
          <i onclick="window.location.href='#'" class="fa-solid fa-notes-medical"></i>
        </div>
      </div>

      <div class="area-logoff">
        <div class="circle-option logoff" onclick="limparSessao()">
          <i class="fa-solid fa-right-from-bracket"></i>
        </div>
      </div>
    </div>
  </div>

  <!-- CONTEÚDO PRINCIPAL -->
  <div class="container">

    <div class="bloco-esquerda">

      <!-- KPIs -->
      <div class="kpis">
        <div class="card kpi-processos">
          <h5>Total de Processos em Execução</h5>
          <h3>345</h3>
        </div>

        <div class="card kpi-cpu">
          <h4>Tempo de CPU</h4>
          <p>Usuário VS Sistema</p>
          <canvas id="cpuChart"  height="100"></canvas>
        </div>
      </div>

      <!-- Desempenho / Tempo de Espera -->
      <div class="card-grafico">
        <h3 class="titulo">Desempenho x Tempo de Espera</h3>
        <canvas id="desempenhoChart"></canvas>
      </div>

      <!-- Taxa de Swap + Utilização RAM -->
      <div class="blocos-mistos">

        <div class="graficoSwap bloco-meio">
          <h3 class="titulo">Taxa de Swap</h3>
          <canvas id="swapChart"></canvas>
        </div>

        <div class="graficoRam bloco-meio">
          <h3 class="titulo">Utilização RAM</h3>

          <div class="pie-area">
            <canvas id="ramChart" width="200"></canvas>
          </div>

          <div class="legenda-pie">
            <div class="disp">Disponível</div>
            <div class="util">Utilizada</div>
          </div>
        </div>

      </div>

    </div>

    <!-- Bloco direita -->
    <div class="bloco-direita">

      <div class="cima">
          <div class="card-kpi-alertas">
          <h3 class="titulo">Qtd. alertas no último mês</h3>
          <h1 style="font-size:40px;">14</h1>
        </div>

        <div class="uiverse">
    <span class="tooltip"><img src="../../assets/imgs/jira_icon.png" alt="Alert Icon" width="15px"></span>
    <span onclick="window.location.href='https://gamecore.atlassian.net/jira/software/projects/KAN/list?jql=project%20%3D%20%22KAN%22%20ORDER%20BY%20created%20DESC'">
        Ver Alertas
    </span>
</div>
      </div>
      
      <div class="baixo">
      <div class="card-correlacao">
        <h3 class="titulo">Tendência e Correlação de Alertas</h3>
        <canvas id="alertasChart"></canvas>
      </div>
      </div>


    </div>

  </div>
</div>


 <script>
  new Chart(document.getElementById("cpuChart"), {
    type: "line",
    data: {
      labels: ["Item 1", "Item 2", "Item 3", "Item 4", "Item 5"],
      datasets: [
        {
          label: "Sistema",
          data: [10, 22, 28, 33, 40],
          borderColor: "#9a7bff",
          pointBackgroundColor: "#9a7bff",
          tension: 0.3,
          borderWidth: 2,
          fill: false
        },
        {
          label: "Usuário",
          data: [8, 17, 26, 29, 36],
          borderColor: "#55c0ff",
          pointBackgroundColor: "#55c0ff",
          tension: 0.3,
          borderWidth: 2,
          fill: false
        }
      ]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          display: true,
          position: 'bottom',
          align: 'center',
          labels: {
            color: "#fff",
            boxWidth: 10,
          }
        }
      },
      scales: {
        x: {
          ticks: { color: "#bbb" },
          grid: { display: false }
        },
        y: {
          ticks: { color: "#bbb" },
          grid: { color: "rgba(255,255,255,0.08)" },
      
          min: 0,
          max: 100, 
        }
      }
    }
  });


  // ======== Desempenho x Tempo de Espera ========

  new Chart(document.getElementById("desempenhoChart"), {
    type: "line",
    data: {
      labels: ["Item 1", "Item 2", "Item 3", "Item 4", "Item 5"],
      datasets: [
        {
          label: "Desempenho",
          data: [12, 15, 38, 30, 50],
          borderColor: "#55c0ff",
          pointBackgroundColor: "#55c0ff",
          tension: 0.3,
          borderWidth: 3,
          fill: false
        },
        {
          label: "Tempo de Espera",
          data: [6, 9, 16, 12, 33],
          borderColor: "#9a7bff",
          pointBackgroundColor: "#9a7bff",
          tension: 0.3,
          borderWidth: 3,
          fill: false
        }
      ]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          display: true,
          labels: {
            color: "#fff",
            usePointStyle: true,
            boxWidth: 10
          }
        }
      },
      scales: {
        x: { ticks: { color: "#bbb" }, grid: { color: "rgba(255,255,255,0.08)" } },
        y: { ticks: { color: "#bbb" }, grid: { color: "rgba(255,255,255,0.08)" } }
      }
    }
  });


  // ======== Swap ========

  new Chart(document.getElementById("swapChart"), {
    type: "line",
    data: {
      labels: ["Item 1", "Item 2", "Item 3", "Item 4", "Item 5"],
      datasets: [{
        label: "Swap",
        data: [18, 26, 22, 35, 37],
        borderColor: "#55c0ff",
        pointBackgroundColor: "#55c0ff",
        borderWidth: 3,
        tension: 0.3,
        fill: false
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: { legend: { display: false } },
      scales: {
        x: { ticks: { color: "#bbb" }, grid: { color: "rgba(255,255,255,0.08)" } },
        y: { ticks: { color: "#bbb" }, grid: { color: "rgba(255,255,255,0.08)" } }
      }
    }
  });


  // ======== RAM (Doughnut) ========

  new Chart(document.getElementById("ramChart"), {
    type: "doughnut",
    data: {
      labels: ["Disponível", "Utilizada"],
      datasets: [{
        data: [12.5, 87.5],
        backgroundColor: ["#55c0ff", "#9a7bff"],
        borderWidth: 5,
        borderColor: "#151025"
      }]
    },
    options: {
      maintainAspectRatio: false,
      responsive: true,
      cutout: "70%",
      plugins: { legend: { display: false } }
    }
  });


  // ======== Tendência e Correlação de Alertas ========
  // HISTOGRAMA + LINHA (igual protótipo)

  new Chart(document.getElementById("alertasChart"), {
    type: "bar",
    data: {
      labels: ["0", "2", "4", "6", "8", "10", "12", "14"],
      datasets: [
        {
          type: "bar",
          label: "Alertas",
          data: [2, 3, 5, 6, 4, 3, 4, 2],
          backgroundColor: "rgba(85,192,255,0.7)",
          borderColor: "#55c0ff",
          borderWidth: 1
        },
        {
          type: "line",
          label: "Tendência",
          data: [1, 3, 4, 5, 3, 4, 4.5, 6],
          borderColor: "#9a7bff",
          pointBackgroundColor: "#9a7bff",
          borderWidth: 2,
          fill: false,
          tension: 0.3
        }
      ]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          labels: { color: "#fff" }
        }
      },
      scales: {
        x: { ticks: { color: "#ccc" }, grid: { display: false } },
        y: { ticks: { color: "#ccc" }, grid: { color: "rgba(255,255,255,0.08)" } }
      }
    }
  });


</script>

</body>
</html>
