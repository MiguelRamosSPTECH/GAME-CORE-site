<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="../../css/dash_sre.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
    <script src="../../js/sessao.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11" defer></script>
</head>

<body>
    <div class="container-all">
        <div class="nav-lateral">
            <div class="logo-dbg">
                <img src="../../assets/imgs/DBG.-logo2png.png" alt="">
            </div>
            <div class="options-nav ">
                <div class="principal-options">
                    <div class="circle-option">
                        <i onclick="window.location.href='#'" class="fa-solid fa-house"></i>
                        <span class="texto-oculto">Início</span>
                    </div>
                    <div class="circle-option">
                        <i onclick="window.location.href='dashHistoricoAlertaSRE.html'" class="fa-solid fa-bug"></i>
                        <span class="texto-oculto">Alertas</span>
                    </div>
                    <div class="circle-option">
                        <i class="fa-solid fa-notes-medical" onclick="window.location.href='dashSaudeServidores.html'"></i>
                        <span class="texto-oculto">Configurações</span>
                    </div>
                </div>
                <div class="area-logoff">
                    <div class="circle-option logoff" onclick="limparSessao()">
                        <i class="fa-solid fa-right-from-bracket"></i>
                        <span class="texto-oculto" style="color: red;">Sair</span>
                    </div>
                </div>
            </div>
        </div>


        
        <div class="corpo">
            <div class="intervalo" >Intervalos de um Desvio-Padrão previstos para os proximos dias  
              <img onclick="mostrar_aviso()" class="toll_tip" src="../../assets/imgs/toll tip.png" height="45px"></div>

            <div class="kpi1">
                <p class="titulo_kpi">CPU Esperada:</p>
                <div class="metade">
                    <p class="desc_metade">2ª metade de novembro <b>(<u>atual)</u></b></p>

                    <p class="medida_metade">77%  a 97%</p>
                </div>

                <div class="metade">
                    <p class="desc_metade">1ª metade de Dezembro  <b>(<u>seguinte)</u></b> </p>

                    <p class="medida_metade">80%  a 87%</p>
                </div>

        
            </div>

        
            <div class="kpi2">
            <p class="titulo_kpi">RAM Esperada:</p>
        
                            <div class="metade" style="border-color: green;">
                    <p class="desc_metade">2ª metade de novembro <b>(<u>atual)</u></b></p>

                    <p class="medida_metade">55% a 60%</p>
                </div>

                <div class="metade" style="border-color: yellow;">
                    <p class="desc_metade">1ª metade de Dezembro  <b>(<u>seguinte)</u></b> </p>

                    <p class="medida_metade">66% a 70%</p>
                </div>
        </div>

            <div class="vazio"></div>
            <div class="graf">
                <canvas id="grafico"></canvas>
            </div>

        </div>

        <div class="direita_pai">

        <div class="direita1">
            <p class="titulo_direita1">Servidores com alertas previstos em 6 horas</p>    

            <table class="lista_sv">
                <tr>
                    
                </tr>
                <tr>
                    <td><img src="../../assets/imgs/bandeira_brasil.png" width="50%" ></td>
                    <td>minecraft-main</td>
                    <td style="color: red;">5</td>

                </tr>
                                <tr>
                    <td><img src="../../assets/imgs/bandeira_brasil.png" width="50%" ></td>
                    <td>minecraft-main</td>
                    <td style="color: red;">5</td>

                </tr>
            </table>
        </div>


        <div class="direita2"> 
            <p class="titulo_direita1">Alertas previstos por componente em 6 horas</p>                
            
            <canvas id="graf_pizza"></canvas>
        </div>

            
        </div>            


    </div>


    <div id="popup" class="popup">
    <div class="popup_conteudo">
        <p>Nos períodos informados abaixo, aproximadamente 68% do tempo, a porcentagem de uso estará dentro da sua respectiva faixa prevista</p>

        <button onclick="fechar_popup()" class="fechar_popup">Fechar</button>
    </div>
</div>


<h1 class="titulo">SRE - Previsão de consumo |  SERVIDOR V1.MAIN </h1>
    <script>

      function mostrar_aviso() {
    document.getElementById("popup").style.display = "flex";
}

function fechar_popup() {
    document.getElementById("popup").style.display = "none";
}













        const ctx = document.getElementById('grafico').getContext('2d');
        

        new Chart(ctx, {
            type: 'line',
            data: {
                labels: ["10/11","11/11","12/11","13/11","14/11","15/11","16/11","17/11","18/11","19/11",
                        "20/11","21/11","22/11","23/11","24/11","25/11","26/11","27/11","28/11","29/11",
                        "30/11","01/12","02/12","03/12","04/12","05/12","06/12","07/12","08/12","09/12",
                        "10/12","11/12","12/12","13/12","14/12","15/12","16/12","17/12","18/12","19/12",
                        "20/12","21/12","22/12","23/12","24/12"],
                datasets: [{
                    label: 'CPU usada',
                    data: [5, 9, 12, 18, 21, 25, 28, 32, 36, 40, 43, 47, 50, 53, 57, 60, 63, 66, 70, 72, 75, 78, 82, 84, 87, 90, 92, 94, 97, 99],
                    borderColor: '#6ce5e8',
                    borderWidth: 3,
                    fill: false,
                    tension: 0.4,
                    pointRadius: 0,
                },{
                    label: 'CPU prevista',
                    data: [6, 11, 14, 17, 23, 26, 30, 33, 39, 42, 45, 48, 52, 54, 58, 62, 65, 68, 71, 73, 76, 80, 83, 85, 88, 91, 93, 95, 98, 4, 8, 13, 19, 22, 27, 29, 34, 38, 41, 46, 51, 56, 61, 67],
                    borderColor: '#16c4d4',
                    borderWidth: 3,
                    fill: false,
                    borderDash: [5, 5],
                    tension: 0.4,
                    pointRadius: 0,
                },
                {
                    label: 'RAM usada',
                    data: [3, 7, 10, 15, 19, 22, 27, 31, 35, 38, 41, 45, 48, 52, 55, 59, 62, 65, 69, 71, 74, 77, 81, 83, 86, 89, 91, 93, 96, 98],
                    borderColor: '#429639',
                    borderWidth: 3,
                    fill: false,
                    tension: 0.4,
                    pointRadius: 0,
                },{
                    label: 'RAM prevista',
                    data: [2, 6, 11, 14, 18, 24, 28, 33, 37, 40, 44, 49, 53, 57, 60, 64, 66, 70, 73, 76, 79, 82, 85, 87, 90, 92, 95, 97, 99, 4, 8, 12, 16, 21, 25, 29, 34, 39, 43, 47, 51, 58, 63, 68],
                    borderColor: '#587a00',
                    borderWidth: 3,
                    fill: false,
                    borderDash: [5, 5],
                    tension: 0.4,
                    pointRadius: 0,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: true },
                    title: {
                        display: true,
                        text: 'Evolução e previsão da media mensal de uso de CPU e RAM',
                        color: 'white',
                        font: {
                            size: 20,
                            weight: 'bold',
                            family: 'Open Sans'
                        },
                        align: 'center',
                        padding: {
                            bottom: 20
                        }
                    }
                },
                scales: {
                    x: {
                        ticks: { color: 'white' },
                        grid: { display: false }
                    },
                    y: {
                        ticks: { color: 'white' },
                        grid: { color: 'rgba(255,255,255,0.1)' }
                    }
                },
                layout: {
                    padding: 10
                }
            }
        });

        // LÓGICA DE HOVER DA BARRA LATERAL
        const navLateral = document.querySelector('.nav-lateral');
        const conteudo = document.querySelector('.conteudo');

        navLateral.addEventListener('mouseenter', () => {
            conteudo.classList.add('expand');
        });

        navLateral.addEventListener('mouseleave', () => {
            conteudo.classList.remove('expand');
        });



                const ctx2 = document.getElementById('graf_pizza').getContext('2d');
        

        new Chart(ctx2, {
            type: 'pie',
            data: {
                labels: ["CPU", "RAM"],
                datasets: [{
                    label: 'CPU',
                    data: [20,30],
                    backgroundColor: ['#6ce5e8', '#16c4d4'],
                    borderColor: '#6ce5e8',
                    borderWidth: 3,
                    fill: false,
                    tension: 0.4,
                    pointRadius: 0,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: true },
                    title: {
                        display: true,
                        color: 'white',
                        font: {
                            size: 20,
                            weight: 'bold',
                            family: 'Open Sans'
                        },
                        align: 'center',
                        padding: {
                            top: -25
                        }
                    }
                },
                scales: {
                    x: {
                        ticks: { color: 'white' },
                        grid: { display: false }
                    },
                    y: {
                        ticks: { color: 'white' },
                        grid: { color: 'rgba(255,255,255,0.1)' }
                    }
                },
                layout: {
                    padding: 10
                }
            }
        });


    </script>
</body>

</html>