<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hist√≥rico de Alertas</title>
    <link rel="stylesheet" href="../../css/dashHistoricoAlertaSRE.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
    <script src="../../js/sessao.js"></script>
</head>

<body>
    <div class="container-all">
        <div class="nav-lateral">
            <div class="logo-dbg">
                <img src="../.././assets/imgs/DBG.-logo2png.png" alt="">
            </div>
            <div class="options-nav ">
                <div class="principal-options">
                    <div class="circle-option">
                        <i onclick="window.location.href='dashboard_sre.html'" class="fa-solid fa-house"></i>
                        <span class="texto-oculto">In√≠cio</span>
                    </div>
                    <div class="circle-option">
                        <i onclick="window.location.href='#'" class="fa-solid fa-bug"></i>
                        <span class="texto-oculto">Alertas</span>
                    </div>
                    <div class="circle-option">
                        <i class="fa-solid fa-notes-medical" onclick="window.location.href='dashSaudeServidores.html'"></i>
                        <span class="texto-oculto">Configura√ß√µes</span>
                    </div>
                </div>
                <div class="area-logoff">
                    <div class="circle-option logoff" onclick="limparSessao()">
                        <i class="fa-solid fa-right-from-bracket"></i>
                        <span class="texto-oculto" style="color: red;">Sair</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="container_pagina">
  <div class="lado_esquerdo">
    <div class="grafico_card">
      <h3>Qtd. Chamados abertos</h3>
      <canvas id="chartChamados"></canvas>
    </div>

    <div class="grafico_card" id="graficoRosca">
  <h3>Alertas dos √∫ltimos chamados</h3>
  <canvas id="chartAlertas"></canvas>
</div>
  </div>

  <div class="alertas-container">
    <div class="tabela_card">
      <h2>Hist√≥rico de Alertas</h2>
      <div class="tabela_historico">
        <table>
                            <thead>
                                <tr>
                                    <th>Key ID</th>
                                    <th>Servidor</th>
                                    <th>Descri√ß√£o</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ALR-005</td>
                                    <td>Alfa</td>
                                    <td>Lat√™ncia de rede cr√≠tica (mais de 500ms) entre Servi√ßo</td>
                                    <td>Em An√°lise</td>
                                </tr>
                                <tr>
                                    <td>ALR-006</td>
                                    <td>Beta</td>
                                    <td>CPU acima de 95% em servidor principal</td>
                                    <td>Resolvido</td>
                                </tr>
                                <tr>
                                    <td>ALR-007</td>
                                    <td>Gama</td>
                                    <td>Falha de autentica√ß√£o repetida em API Gateway</td>
                                    <td>Pendente</td>
                                </tr>
                                <tr>
                                    <td>ALR-008</td>
                                    <td>Delta</td>
                                    <td>Lat√™ncia alta no servi√ßo de banco de dados</td>
                                    <td>Resolvido</td>
                                </tr>
                                <tr>
                                    <td>ALR-009</td>
                                    <td>√âpsilon</td>
                                    <td>Uso de disco acima de 90% no servidor WEB-02</td>
                                    <td>Em An√°lise</td>
                                </tr>
                                <tr>
                                    <td>ALR-010</td>
                                    <td>Zeta</td>
                                    <td>Servi√ßo de e-mail n√£o responde ao ping</td>
                                    <td>Resolvido</td>
                                </tr>
                                <tr>
                                    <td>ALR-011</td>
                                    <td>Eta</td>
                                    <td>Perda de pacotes acima de 20%</td>
                                    <td>Pendente</td>
                                </tr>
                                <tr>
                                    <td>ALR-012</td>
                                    <td>Teta</td>
                                    <td>Alerta de seguran√ßa: login suspeito detectado</td>
                                    <td>Resolvido</td>
                                </tr>
                                <tr>
                                    <td>ALR-013</td>
                                    <td>Iota</td>
                                    <td>Servi√ßo de cache inativo (Redis)</td>
                                    <td>Em An√°lise</td>
                                </tr>
                                <tr>
                                    <td>ALR-014</td>
                                    <td>Kappa</td>
                                    <td>Consumo de mem√≥ria acima do esperado em API Core</td>
                                    <td>Resolvido</td>
                                </tr>
                                <tr>
                                    <td>ALR-015</td>
                                    <td>Lambda</td>
                                    <td>Erro 500 frequente no microservi√ßo Auth</td>
                                    <td>Pendente</td>
                                </tr>
                                <tr>
                                    <td>ALR-016</td>
                                    <td>Mu</td>
                                    <td>Tempo de resposta do endpoint /users excedendo 2s</td>
                                    <td>Resolvido</td>
                                </tr>
                                <tr>
                                    <td>ALR-017</td>
                                    <td>Nu</td>
                                    <td>Backup autom√°tico falhou na madrugada</td>
                                    <td>Em An√°lise</td>
                                </tr>
                                <tr>
                                    <td>ALR-018</td>
                                    <td>Xi</td>
                                    <td>Monitoramento detectou rein√≠cio inesperado no servidor APP-03</td>
                                    <td>Resolvido</td>
                                </tr>
                                <tr>
                                    <td>ALR-019</td>
                                    <td>√îmicron</td>
                                    <td>Servi√ßo de fila RabbitMQ atingiu 100% de uso</td>
                                    <td>Em An√°lise</td>
                                </tr>
                            </tbody>

                        </table>
      </div>

      <div class="botoes">
        <button class="relatorio">üìÑ Gerar Relat√≥rio</button>
        <button class="slack" onclick="window.open('https://slack.com/signin#/signin', '_blank')">
          <img src="../../assets/imgs/slack-logo.png" alt="">
          Add to <span>Slack</span>
        </button>
      </div>
    </div>
  </div>
</div>

    </div>

    <script>
        // Gr√°fico de barras
            new Chart(document.getElementById("chartChamados"), {
                type: "bar",
                data: {
                    labels: ["Jan", "Fev", "Mar", "Abr"],
                    datasets: [{
                        label: "",
                        data: [8, 12, 16, 20],
                        backgroundColor: ["#7fffd4", "#4ecae3", "#397ed9", "#1e3b8a"],
                        borderRadius: 6
                    }]
                },
                options: {
                    plugins: { legend: { display: false } },
                    scales: { y: { beginAtZero: true, ticks: { color: "#333" } }, x: { ticks: { color: "#333" } } }
                }
            });

            // Gr√°fico de rosca
            const chartAlertas = new Chart(document.getElementById("chartAlertas"), {
  type: "doughnut",
  data: {
    labels: ["Manuten√ß√£o", "Estado de Alerta", "Estado Cr√≠tico"],
    datasets: [{
      data: [62.5, 25, 12.5],
      backgroundColor: ["#7fffd4", "#4ecae3", "#397ed9"],
      borderWidth: 0
    }]
  },
  options: {
    cutout: "70%",
    maintainAspectRatio: false,
    plugins: {
      legend: {
        display: true,
        position: "bottom",
        labels: {
          color: "#333",
          boxWidth: 20,
          padding: 15
        }
      }
    },
    layout: {
      padding: { bottom: 10 }
    }
  }
});

    </script>
</body>

</html>